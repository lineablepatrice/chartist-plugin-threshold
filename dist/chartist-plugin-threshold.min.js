/* chartist-plugin-threshold 0.0.2
 * Copyright Â© 2019 Gion Kunz
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(s,a){void 0===s&&void 0!==window&&(s=window),"function"==typeof define&&define.amd?define(["chartist"],function(e){return s["Chartist.plugins.ctThreshold"]=a(e)}):"object"==typeof module&&module.exports?module.exports=a(require("chartist")):s["Chartist.plugins.ctThreshold"]=a(s.Chartist)}(this,function(e){return function(e,s,a){"use strict";var h={threshold:0,maskPadding:10,prefix:"ct-threshold-",classNames:{aboveThreshold:"above",prefixThreshold:"area-",belowThreshold:"below"},maskNames:{aboveThreshold:"mask-above",prefixThreshold:"mask-area-",belowThreshold:"mask-below"}};a.plugins=a.plugins||{},a.plugins.ctThreshold=function(t){return(t=a.extend({},h,t)).thresholds||(t.thresholds=[t.threshold]),function(e){(e instanceof a.Line||e instanceof a.Bar)&&(e.on("draw",function(e){if("point"===e.type){if(e.value.y>=t.thresholds[0])e.element.addClass(t.prefix+t.classNames.aboveThreshold);else if(e.value.y<t.thresholds[t.thresholds.length-1])e.element.addClass(t.prefix+t.classNames.belowThreshold);else for(var s=1;s<=t.thresholds.length-1;++s)if(e.value.y>=t.thresholds[s]){e.element.addClass(t.prefix+t.classNames.prefixThreshold+(s-1));break}}else if("line"===e.type||"bar"===e.type||"area"===e.type){e.element.parent().elem(e.element._node.cloneNode(!0)).attr({mask:"url(#"+t.prefix+t.maskNames.aboveThreshold+")"}).addClass(t.prefix+t.classNames.aboveThreshold);for(var a=1;a<=t.thresholds.length-1;++a)e.element.parent().elem(e.element._node.cloneNode(!0)).attr({mask:"url(#"+t.prefix+t.maskNames.prefixThreshold+(a-1)+")"}).addClass(t.prefix+t.classNames.prefixThreshold+(a-1));e.element.attr({mask:"url(#"+t.prefix+t.maskNames.belowThreshold+")"}).addClass(t.prefix+t.classNames.belowThreshold)}}),e.on("created",function(e){!function(s,e){var a=s.svg.querySelector("defs")||s.svg.elem("defs"),t=e.thresholds;function h(e){return s.chartRect.height()-s.axisY.projectValue(e)+s.chartRect.y2}var l=s.svg.width(),r=s.svg.height(),i=h(t[0]),d=h(t[t.length-1]);a.elem("mask",{x:0,y:-1*e.maskPadding,width:l,height:r+e.maskPadding,id:e.prefix+e.maskNames.aboveThreshold}).elem("rect",{x:0,y:-1*e.maskPadding,width:l,height:i+e.maskPadding,fill:"white"}),a.elem("mask",{x:0,y:-1*e.maskPadding,width:l,height:r+e.maskPadding,id:e.prefix+e.maskNames.belowThreshold}).elem("rect",{x:0,y:d,width:l,height:r-d+e.maskPadding,fill:"white"});for(var o=1;o<=t.length-1;++o){var n=h(t[o]),m=h(t[o-1]);a.elem("mask",{x:0,y:0,width:l,height:r,id:e.prefix+e.maskNames.prefixThreshold+(o-1)}).elem("rect",{x:0,y:m,width:l,height:n-m,fill:"white"})}}(e,t)}))}}}(window,document,e),e.plugins.ctThreshold});
//# sourceMappingURL=chartist-plugin-threshold.min.js.map